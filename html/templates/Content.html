{{ define "content" }}
{{ if IsVideoPreview .PreviewType }}
<!-- Video Preview -->

<div class="center">
    <video controls>
        <source src='{{.Scheme}}://{{.Host}}/preview/raw/{{.PublicFilename}}' type="{{.MimeType}}">
        Your browser does not support HTML5 video.
    </video>
</div>
{{ end }}

{{ if IsImagePreview .PreviewType }}
<!-- image Preview -->

<div class="center">
    <img src='{{.Scheme}}://{{.Host}}/preview/raw/{{.PublicFilename}}'>
</div>
{{ end }}

{{ if  IsTextPreview .PreviewType }}
<!-- Text preview -->

<center>
    <h1>{{.Filename}}</h1>
</center>
<textarea id="tdata" class="lined areapreview" style="width: 100%;min-height: 85vh;"></textarea>
<script>
    $(function () {
        $(".lined").linedtextarea();
    });

    //Encode html
    function htmlEncode(value) {
        return $('<textarea/>').text(value).html();
    }

    //Request data
    $.get("{{.Scheme}}://{{.Host}}/preview/raw/{{.PublicFilename}}", {}, function (data) {
        document.getElementById("tdata").innerHTML = htmlEncode(data)
    })
</script>
{{ end }}

{{ if  IsDefaultPreview .PreviewType }}
<!-- Download View -->

<br>
<span style="text-align: center;">
    <h1 style="color: black;font-size: 2.5em;">Can't view this shit. You have to press download</h1>
</span>

<!-- Download button -->
<div class="centered">
    <a href="{{.Scheme}}://{{.Host}}/preview/raw/{{.PublicFilename}}" class="downloadButton">Download</a>
    <br>
    <center>
        <span class="cv" style="font-size: 1.7rem;">({{.FileSizeStr}} {{ if .Encrypted}} encrypted{{ end }})</span>
    </center>
</div>
{{ end }}
{{ end }}
